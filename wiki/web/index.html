<!DOCTYPE html>
<html lang="ja">
<head>
<title>Webの知識 | Web Wiki</title>
<meta charset="utf-8">
<meta name="description" content="">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="robots" content="noindex, nofollow">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Luckiest+Guy">
<link rel="stylesheet" href="../css/common.css">
<link rel="icon" href="../favicon.ico">
</head>
<body>

<header>
<div class="str-inner">
<p class="site-title">Web Wiki</p>
<!-- /.str-inner --></div>

<nav id="js-nav" class="nav is-close">
<ul class="list-nav">
<li>
<a href="#ac" class="scroll">Web</a>
<div class="nav-inner-menu">
<ul class="list-nav-inner">
<li><a href="dummy">仮装</a></li>
<li><a href="dummy">仮装</a></li>
<li><a href="dummy">仮装</a></li>
<li><a href="dummy">仮装</a></li>
</ul>
<!-- nav-inner-menu --></div>
</li>
<li>
<a href="/wiki/wiki/web_html/" class="scroll">HTML</a>
</li>
<li>
<a href="/wiki/wiki/web_css/" class="scroll">CSS</a>
</li>
<li>
<a href="/wiki/wiki/web_js/" class="scroll">JS/jQuery</a>
</li>
<li>
<a href="/wiki/wiki/web_tool/" class="scroll">TOOL</a>
</li>
</ul>

<p class="js-btn-close btn-close"><button class="btn-inner" type="button"><span>OPEN</span></button></p>
</nav>

</header>

<main>

<div class="str-inner">
<h1 class="hdg-lv1-a">Webの知識</h1>

<section>
<h2 class="hdg-lv2-a">ブレイクポイント</h2>
<p>レスポンシブデザインでは基本的に画面の横幅を基準にCSSを切り替えます。切替地点のことをブレイクポイントといいます。<br>
このブレイクポイントを何pxにするか、というのは時代によって主流の端末が変化するため明確な値はありません。想定されるターゲットによって決めたり、一般的に多く使われている数値に設定することが多いです。</p>

<p>従来では768pxを基準にPC表示とスマホ表示を切り替えるのが一般的でした。これは、iPadの縦向きの表示解像度が768pxというところに起因しています。ですが特定の製品を基準にブレイクポイントを設定すると日々進化するデバイスに対応できなくなる日が来るでしょう。ですので特定の端末に依存しないブレイクポイントの参考に以下の表を参照してください。</p>


<table class="tbl-a">
<caption>ブレイクポイントの参考</caption>
<colgroup>
<col class="w-20">
<col class="w-20">
<col class="w-60">
</colgroup>
<thead>
<tr>
<th>デバイス</th>
<th>ブレイクポイント</th>
<th>範囲</th>
</tr>
</thead>
<tbody>
<tr>
<th>スマホ・縦</th>
<td></td>
<td>320px～479px</td>
</tr>
<tr>
<th>スマホ・横</th>
<td>480px</td>
<td>480px～599px</td>
</tr>
<tr>
<th>タブレット</th>
<td>600px</td>
<td>600px～959px</td>
</tr>
<tr>
<th>PC・小画面</th>
<td>960px</td>
<td>960px～1279px</td>
</tr>
<tr>
<th>PC・大画面</th>
<td>1280px</td>
<td>1280px～</td>
</tr>
</tbody>
</table>

<p>以下のサイトで国内のパソコン、タブレット、スマホのブラウザシェアやデバイスシェアなど様々な統計を確認することができます。Web上の様々なシェア分析に特化したサービスです。</p>
<p class="txt-link"><a href="http://gs.statcounter.com/browser-market-share/all/japan" target="_blank">StatCounter Global Stats</a></p>

</section>

<section>
<h2 class="hdg-lv2-a">HTTP・HTTPSプロトコル</h2>

<h3 class="hdg-lv3-a">HTTPプロトコル</h3>
<p>HTMLや画像などの表示を提供するサーバ（Webサーバ）とWebブラウザに代表されるクライアント間でHTML文書などのテキストメッセージを受け渡すためのプロトコルです。</p>

<p>HTTPでの通信は<em>リクエストメッセージ（URLパラメータなど）</em>を送信して<em>レスポンスメッセージ（ステータス、HTMLなど）</em>を受信するというシンプルなものになっています。</p>

<aside>
<h1 class="hdg-lv1-a">用語解説</h1>

<h2 class="hdg-lv2-a">URL (Uniform Resource Locator)</h2>
<p>インターネット上のリソース（ファイルなど）の位置を示す文字列です。</p>

<h2 class="hdg-lv2-a">URI (Uniform Resource Identifier)</h2>
<p>インターネットに限らないより大きな概念でのリソースの位置を示す文字列です。URLはURIの1つの形式です。</p>
</aside>

<h3 class="hdg-lv3-a">HTTPSプロトコル</h3>
<p>セキュリティを確保した通信路上でHTTP通信をすることをHTTPSと呼びます。セキュリティの確保にはデータを暗号化して送受信するプロトコルである<em>TLSプロトコル</em>または<em>SSLプロトコル</em>を使用します。</p>

<p>HTTPS通信ではまずSSL/TLSセッションを確立し、その後に前述のHTTPセッションを行ないます。</p>

<h3 class="hdg-lv3-a">HTTPのメッセージ構造</h3>
<p>メッセージは、開始行、0行以上のヘッダフィールド、CRLFの改行、メッセージボディからなります。さらに、開始行とヘッダーフィールドにおける各ヘッダの最後には、区切りのためにCRLF改行が入ります。</p>

<div class="box-a">
<pre>
<b>開始行（リクエストライン／ステータスライン）</b>

<b>ヘッダフィールド（0行以上）</b>
  General-header（要求と応答いずれにも使えるヘッダ）
  Request-header（要求の際に追加できるヘッダ）
  Response-header（応答の際にサーバが追加できるヘッダ）
  Entity-header（メッセージボディについての情報を定義するヘッダ）

<b>改行（CRLF）</b>

<b>メッセージボディ</b>
</pre>
<!-- /.box-a --></div>

<h3 class="hdg-lv3-a">HTTPのリクエストメッセージ</h3>
<p>リクエストメッセージとして指定可能なメソッドは次の表の8種類です。<br>
HTTPリクエストの中の「メソッド」は、指定したURIに対して、クライアントからサーバに要求するアクションです。</p>
<p>最も利用されるメソッドは<em>GET</em>と<em>POST</em>です。GETで送信時にIDやパスワードなどのパラメータを指定した場合、それらはURLに追加され表示されてしまいます。そのため情報が漏えいするリスクが高まります。POSTで送信時は、パラメータはメッセージボディに書かれるためURLには追加されません。重要なデータはPOSTで送信します。</p>

<table class="tbl-a">
<colgroup>
<col class="w-20">
<col class="w-80">
</colgroup>
<thead>
<tr>
<th>メソッド名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<th><strong>GET</strong></th>
<td>サーバにページの取得を要求する</td>
</tr>
<tr>
<th>HEAD</th>
<td>サーバにヘッダのみの取得を要求する</td>
</tr>
<tr>
<th><strong>POST</strong></th>
<td>サーバにデータを送信する</td>
</tr>
<tr>
<th>PUT</th>
<td>指定したファイルの保存を要求する</td>
</tr>
<tr>
<th>DELETE</th>
<td>指定したファイルの削除を要求する</td>
</tr>
</tbody>
</table>

<h3 class="hdg-lv3-a">HTTPのレスポンスメッセージ</h3>
<p>メッセージ構造はHTTPのメッセージ構造と同じです。<br>
開始行にはレスポンスの状態を3桁の数字で表すステータスコードが含まれます。ステータスコードは次の表のように分類されます。</p>

<table class="tbl-a">
<colgroup>
<col class="w-20">
<col class="w-15">
<col class="w-65">
</colgroup>
<thead>
<tr>
<th>分類</th>
<th>ステータスコード</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>2xx<br>成功</td>
<td>200</td>
<td>OK／リクエストが成功した</td>
</tr>
<tr>
<td rowspan="2">3xx<br>リダイレクト</td>
<td>301</td>
<td>Moved Permanently／リソースが恒久的に移動した</td>
</tr>
<tr>
<td>307</td>
<td>Temporary Redirect／リソースが一時的に移動した</td>
</tr>
<tr>
<td rowspan="3">4xx<br>クライアントエラー</td>
<td>400</td>
<td>Bad Request／不正なリクエストである</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden／アクセスが禁止されている</td>
</tr>
<tr>
<td>404</td>
<td>Not Found／リソースが見つからない</td>
</tr>
<tr>
<td rowspan="2">5xx<br>サーバエラー</td>
<td>500</td>
<td>Internal Server Error／サーバ内部エラー</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable／サービスが一時的に利用付加である</td>
</tr>
</tbody>
</table>

<h3 class="hdg-lv3-a">HTTPのヘッダフィールド</h3>
<p>ヘッダフィールドにはメッセージの外部情報（メタ情報）を扱うためのHTTPヘッダが含まれます。代表的なHTTPヘッダは次の通りです。</p>

<table class="tbl-a">
<colgroup>
<col class="w-20">
<col class="w-30">
<col class="w-50">
</colgroup>
<thead>
<tr>
<th>ヘッダ名</th>
<th>ヘッダの種類</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<th>Accept</th>
<td>Request-header</td>
<td>受け入れ可能なメディアタイプ</td>
</tr>
<tr>
<th>Authorization</th>
<td>Request-header</td>
<td>認証情報（ユーザ名とパスワード）</td>
</tr>
<tr>
<th>Cache-Control</th>
<td>General-header</td>
<td>キャッシュを制御する指示情報</td>
</tr>
<tr>
<th>Content-Language</th>
<td>Entity-header</td>
<td>コンテンツの言語コード</td>
</tr>
<tr>
<th>Content-type</th>
<td>Entity-header</td>
<td>コンテンツのMIMEタイプ、エンコーディング</td>
</tr>
<tr>
<th>Cookie</th>
<td>Request-header</td>
<td>ブラウザに保存されたクッキーの内容</td>
</tr>
<tr>
<th>Expires</th>
<td>Entity-header</td>
<td>コンテンツの有効期間</td>
</tr>
<tr>
<th>Referer</th>
<td>Request-header</td>
<td>リンク元のリソースのURI（どこからそのページに来たのか）</td>
</tr>
<tr>
<th>Set-Cookie</th>
<td>Response-header</td>
<td>Webサーバが生成したクッキーの内容</td>
</tr>
<tr>
<th>User-Agent</th>
<td>Request-header</td>
<td>クライアントの識別情報	</td>
</tr>
</tbody>
</table>

<p>ヘッダの種類であるRequest-headerはリクエストに追加できるヘッダで、Response-headerはレスポンスに追加できるヘッダです。General-headerはリクエスト/レスポンスの両方に追加できるヘッダで、Entity-headerはメッセージボディについての情報を記載するヘッダです。</p>

<h3 class="hdg-lv3-a">HTTPでの認証</h3>
<p>特定のファイルへのアクセス制限をするために認証をすることが可能です。</p>

<table class="tbl-a">
<caption>主な認証方法</caption>
<colgroup>
<col class="w-20">
<col class="w-80">
</colgroup>
<thead>
<tr>
<th>認証名</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<th>Basic認証</th>
<td>ユーザ名とパスワードをコロン「：」で接続し、Base64でエンコードして送信することで認証を実施。暗号化されていない平文なので、<strong>盗聴や改ざんが簡単にできてしまう。</strong></td>
</tr>
<tr>
<th>Digest認証</th>
<td>盗聴や改ざんを防ぐため、ユーザ名とパスワードをMD5でハッシュ化して送信し、認証を実施。</td>
</tr>
</tbody>
</table>

<h3 class="hdg-lv3-a">HTTP cookie</h3>
<p>HTTPはシステムの現在の状態を保存しない（ステートレス）プロトコルです。Webブラウザにクッキーと呼ばれる状態管理情報を保存すること、HTTPでの状態管理を実現します。<br>
Cookieには4096バイトのASCII文字列を保存できます(ブラウザによってはより大きな容量を保存できます)。Cookieが保存されるディレクトリやファイルは、OSやブラウザのバージョンによって異なります。</p>

<p>クッキーの代表的な用途としては次が挙げられます。</p>

<ul class="list-normal-a">
<li>Webサイト上のサービスにおけるログイン状態の記録</li>
<li>ECサイト上でのカード情報の管理</li>
<li>広告配信業者によるアクセス履歴の記録</li>
</ul>

<p>クッキーは、JavaScriptなどのクライアント側スクリプトで操作することができます。またWebブラウザから、クッキーの送受信に関する設定や内容確認および消去することも可能です。</p>

<h3 class="hdg-lv3-a">HTTP/HTTPSのポート番号</h3>
<p>ポート番号とは、TCP/IPにおける通信の窓口となる番号です。「0-1023」は<em>ウェルノウンポート番号</em>と呼ばれ、特定のサービスのために予約されています。HTTPのウェルノウンポート番号は<em>80番</em>、HTTPSのウェルノウンポート番号は<em>443番</em>です。</p>
<p class="txt-note"><span class="ast">※</span>ウェルノウンポートを使用してる場合、URLからポート番号を省略できます。</p>

</section>

<section>
<h2 class="hdg-lv2-a">Web関連技術の概要</h2>

<h3 class="hdg-lv3-a">文書の構造</h3>
<h4 class="hdg-lv4-a">XHTML</h4>
<p>HTMLをXMLの文法で定義し直したものがXHTMLです。HTMLとの主な相違点は次の通りです。</p>

<ul class="list-normal-a">
<li>文章の先頭にXML宣言文が必要（推奨）</li>
<li>文字の大文字／小文字が厳密に区別される（要素名、属性名は小文字で定義されているため、小文字での記述が必須）</li>
<li>要素は必ず開始タグ、終了タグでくくられていなければならない。</li>
</ul>

<p>HTML5においてもXHTMLの記述を用いることができます。</p>

<h4 class="hdg-lv4-a">マイクロデータ</h4>
<p>マイクロデータとは<em>文書の意味や属性を伝える構文</em>の1つです。</p>

<p>HTMLはページの「構造」を表すのに対してマイクロデータはページの「属性」を表します。マイクロデータを使用することにより、検索エンジンなどのプログラムにWebページの文書を持つ、情報やデータなどの「属性」や「意味」を伝えることができるようになります。マイクロデータでは次の3つの属性を利用します。</p>

<dl class="list-dl-a">
<dt><dfn>itemscope</dfn></dt>
<dd>意味付けのブロック開始の宣言</dd>
<dt><dfn>itemtype</dfn></dt>
<dd>データの種別（URL）</dd>
<dt><dfn>itemprop</dfn></dt>
<dd>データのプロパティ名</dd>
</dl>

<h4 class="hdg-lv4-a">RDFa</h4>
<p>RDFaとはResource Description Framework in Attributesの略で、<em>RDFによるメタデータをXHTMLで書かれた構造化文書に埋め込むための仕様</em>です。XML文書全般でも利用が可能です。RDFaはW3Cが勧告しており、次のドキュメントがあります。</p>

<dl class="list-dl-a">
<dt><dfn>RDFa 1.1 Primer</dfn></dt>
<dd>RDFaのチュートリアルドキュメントの仕様</dd>
<dt><dfn>RDFa Core 1.1</dfn></dt>
<dd>RDFaの仕様</dd>
<dt><dfn>XHTML+RDFa 1.1</dfn></dt>
<dd>XHTML文書でRDFaを利用する際の仕様</dd>
<dt><dfn>HTML5+RDFa 1.1</dfn></dt>
<dd>HTML5文書でRDFaを利用する際の仕様</dd>
<dt><dfn>RDFa Lite 1.1</dfn></dt>
<dd>必要最小限なRDFaの仕様</dd>
</dl>

<h4 class="hdg-lv4-a">OGP(Open Graph Protocol)</h4>
<p>あるWebページがどのような内容かという情報を、<em>プログラムから読める形でWebページに付加するための仕様</em>です。<br>仕様の詳細は下記リンクより確認できます。</p>

<p class="txt-link"><a href="http://ogp.me/" target="_blank">The Open Graph protocol</a></p>


<h3 class="hdg-lv3-a">データの操作</h3>
<h4 class="hdg-lv4-a">JavaScript</h4>
<p>JavaScriptとはプロトタイプスペースのオブジェクト指向プログラミング言語です。</p>
<p>HTMLからJavaScriptを利用するには、script要素の内容としてHTML文書内に直接記述するか、script要素のsrc属性で外部スクリプトを指定し読み込む方法です。なお、HTML5ではtype属性は省略可能です。</p>

<h4 class="hdg-lv4-a">DOM</h4>
<p>DOMとはDocument Object Modelの略称で、HTML文書、XML文書の要素にプログラムからアクセスするためのAPIです。JavaScriptを用いてDOMを操作することにより、文書を取得・変更したり、要素の値を動的に変更することが可能となります。<em>DOMはツリー構造で表すことができます。</em></p>

<h4 class="hdg-lv4-a">Ajax</h4>
<p>Ajaxとは<em>Asynchronous JavaScript + XML</em>の略で、Webブラウザ内で<strong>XML HttpRequest</strong>を利用して<strong>非同期通信</strong>を行い、通信結果をJavsScriptやCSSで<strong>動的</strong>にWebページに反映します。</p>

<p>Ajaxで転送されるデータには<strong>JSON</strong>がよく用いられます。JSONには、サーバから取得したデータをそのままJavaScriptのオブジェクトに展開できるなどの利点があります。</p>


<h3 class="hdg-lv3-a">通信</h3>
<h4 class="hdg-lv4-a">セッション</h4>
<p>ネットワーク通信で<em>ログイン（接続）からログオフ（切断）するまでの一連の通信</em>のことを指します。セッションを実現するための仕組みとして、クッキーやURL rewritingがあります。</p>

<h4 class="hdg-lv4-a">データURI</h4>
<p>画像のデータ等をBase64でエンコードし、HTMLやCSSに直接埋め込んだ際のURIをデータURIと呼びます。Base64化するのでオリジナルのデータサイズよりサイズが大きくなりますが、HTMLに埋め込まれるため、サーバへのリクエスト回数を減らすことができます。</p>

<h4 class="hdg-lv4-a">Base64</h4>
<p>64種類の文字とパディング用の=記号により、マルチバイト文字やバイナリデータを扱うためのエンコード方式です。エンコードによりファイルサイズが元データの約1.3倍となるため、<em>大きなファイルの転送には不向きです</em>。</p>


<h3 class="hdg-lv3-a">SOAP(Simple Object Access Protocol)</h3>
<p>異なるコンピュータ上で動作するWebサービス(プログラム)間でメッセージを交換し、連携するための通信プロトコルです。やり取りされるメッセージはXML形式で、主にHTTPを使用して通信が行われます。</p>









<h3 class="hdg-lv3-a">MVCアーキテクチャ</h3>
<p>ソフトウェアのデザインパターン(いろいろなプログラムで再利用できる設計パターン)です。
ソフトウェアの内部処理とユーザーに対しての入出力処理を分離するために、ソフトウェアを以下の3つの要素に分けて設計します。</p>

<table class="tbl-a">
<colgroup>
<col class="w-20">
<col class="w-80">
</colgroup>
<thead>
<tr>
<th>要素</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<th>Model</th>
<td>データを管理し、主要な処理を行なう</td>
</tr>
<tr>
<th>View</th>
<td>ユーザへの窓口で、受付・表示を行なう</td>
</tr>
<tr>
<th>Controller</th>
<td>
<p>ModelとViewを制御する</p>
<ul class="list-normal-a">
<li>Viewからの入力 → Contrillew → Modelが処理</li>
<li>Modelからの処理結果 → Controller → Viewが表示</li>
</ul>
</td>
</tr>
</tbody>
</table>

<h3 class="hdg-lv3-a">Webサイトに対する主な攻撃手法</h3>
<h4 class="hdg-lv4-a">クロスサイト・リクエスト・フォージェリ(CSRF: Cross Site Request Forgeries)</h4>
<p>攻撃用サイトにアクセスしたユーザーの環境から攻撃者が用意したHTTPリクエストを送信させることによって、不正な操作を実行します。</p>
<p>対策は、サーバ側で<strong>外部サイトからのリクエストを受け付けないように</strong>、HTTPリクエストのRefererヘッダを参照したり、内部からのリクエストであることを照合できる仕組みを作ることです。</p>

<h4 class="hdg-lv4-a">SQLインジェクション(SQL Injection)</h4>
<p>SQLを実行するWebアプリケーションにおいて、アプリケーションが想定していないSQLを注入(inject)してデータベースを不正に操作します。</p>
<p>対策は、<strong>ユーザーの入力値を適切にエスケープ処理</strong>(特別な意味を持つ文字列を一定のルールに従って別の文字列に置き換える)することです。また、あらかじめ実行したいSQLをコンパイルした(コンピュータが実行可能な形式にした)<strong>プリペアードステートメントを使用します</strong>。</p>

<h4 class="hdg-lv4-a">クロスサイト・スクリプティング(XSS: Cross Site Scripting)</h4>
<p>掲示板など、ユーザーからの入力値を元に動的にWebページを表示するサイトに悪意のあるスクリプトを埋め込み、ユーザーの環境で実行させます。こうすることで、偽サイトに誘導して個人情報を搾取するフィッシングや、そのユーザーのふりをする「なりすまし」などを行います。</p>
<p>対策は、悪意のあるスクリプトが表示、実行されないように<strong>出力値を適切にエスケープ処理する</strong>ことです。</p>

<h4 class="hdg-lv4-a">クロスサイト・リクエスト・フォージェリ(CSRF: Cross Site Request Forgeries)</h4>
<p>攻撃用サイトにアクセスしたユーザーの環境から攻撃者が用意したHTTPリクエストを送信させることによって、不正な操作を実行します。</p>
<p>対策は、サーバ側で<strong>外部サイトからのリクエストを受け付けない</strong>ように、HTTPリクエストのRefererヘッダを参照したり、<strong>内部からのリクエストであることを照合できる仕組みを作る</strong>ことです。</p>

<h4 class="hdg-lv4-a">ディレクトリ・トラバーサル(Directory Traversal)</h4>
<p>ファイルにアクセスする操作時に「../」や「..¥」(親ディレクトリへの相対パスを示す文字列)を含め、ユーザーがアクセスできないはずのファイルにアクセスします。</p>
<p>対策は、<strong>ファイルのアクセス権を設定する</strong>ことや、<strong>絶対パスに変換する</strong>ことです。</p>

<h4 class="hdg-lv4-a">HTTPヘッダ・インジェクション</h4>
<p>動的にHTTPヘッダを生成するサイトにおいて、任意のヘッダ行を挿入して不正な操作を行います。</p>
<p>対策は、<strong>改行として認識される特殊文字をエスケープ処理</strong>したり、<strong>改行が含まれていたら入力エラーとする</strong>ことです。</p>

</section>




<!-- /.str-inner --></div>















</main>

<footer>
<p class="txt-footer"><small>copyright &copy; 2018 WEB WIKI. All rights reserved.</small></p>
</footer>

<script src="../js/jquery-3.3.1.min.js"></script>
<script src="../js/run.js"></script>
</body>
</html>